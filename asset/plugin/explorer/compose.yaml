services:
  explorer:
    image: dpanel/explorer
    container_name: dpanel-plugin-explorer
    restart: always
    privileged: true
    pid: host
    labels:
      - "com.dpanel.container.title=DPanel-文件管理助手"
      - "com.dpanel.container.auto_remove=true"
#{{if .explorer.volumes}}
    volumes:
#{{- range $key, $val := .explorer.volumes }}
      - {{ $val }}
#{{- end}}
#{{- end}}
#{{if .explorer.workingDir}}
    working_dir: {{.explorer.workingDir}}
#{{- end}}
    x-dpanel-service:
      image_tar:
        amd64: asset/plugin/explorer/image-amd64.tar
        arm64: asset/plugin/explorer/image-arm64.tar
        arm: asset/plugin/explorer/image-arm.tar
      external:
        volumes:
#{{- range $key, $val := .explorer.external.volumes}}
          - {{ $val }}
#{{- end}}